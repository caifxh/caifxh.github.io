<html>

<head>
    <meta charset="utf-8" />
<meta name="description" content="" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>
    å…¶ä»–ç®—æ³• | fxh
</title>
<link rel="shortcut icon" href="https://caifxh.github.io/favicon.ico?v=1586405129501">
<!-- <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous"> -->
<link href="https://cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
<link rel="stylesheet" href="https://caifxh.github.io/styles/main.css">
<!-- js -->
<script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.min.js"></script>
<script src="https://caifxh.github.io/media/js/jquery.sticky-sidebar.min.js"></script>
<script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
<script src="https://cdn.bootcss.com/moment.js/2.23.0/moment.min.js"></script>


</head>

<body>
    <div class="main">
        <div class="header">
    <div class="nav">
        <div class="logo">
            <a href="https://caifxh.github.io">
                <img class="avatar" src="https://caifxh.github.io/images/avatar.png?v=1586405129501" alt="">
            </a>
            <div class="site-title">
                <h1>
                    fxh
                </h1>
            </div>
        </div>
        <span class="menu-btn fa fa-align-justify"></span>
        <div class="menu-container">
            <ul>
                
                    
                            <li>
                                <a href="/" class="menu">
                                    é¦–é¡µ
                                </a>
                            </li>
                            
                                
                    
                            <li>
                                <a href="/archives" class="menu">
                                    å½’æ¡£
                                </a>
                            </li>
                            
                                
                    
                            <li>
                                <a href="/tags" class="menu">
                                    æ ‡ç­¾
                                </a>
                            </li>
                            
                                
                    
                            <li>
                                <a href="/post/about" class="menu">
                                    å…³äº
                                </a>
                            </li>
                            
                                
            </ul>
        </div>
    </div>
</div>

<script>
    $(document).ready(function() {
        $(".menu-btn").click(function() {
            $(".menu-container").slideToggle();
        });
        $(window).resize(function() {

            if (window.matchMedia('(min-width: 960px)').matches) {
                $(".menu-container").css('display', 'block')
            } else {
                $(".menu-container").css('display', 'none')
            }

        });
    });
</script>

            <div id="main-content" class="post-container main-container">
                <div id="content" class="main-container-left">
                    
    <div class="i-card">
        <b>æ ‡ç­¾ï¼š#
        å…¶ä»–ç®—æ³•</b>
    </div>
    
        
            <article class="post i-card">
                <h2 class="post-title">
                    <a href="https://caifxh.github.io/post/qian-zhui-he-chai-fen/">
                        å‰ç¼€å’Œ å·®åˆ†
                    </a>
                </h2>
                <div class="post-info">
                    <time class="post-time">2020-04-08</time>
                    
                        <a href="https://caifxh.github.io/tag/TZ7cITYtt/" class="post-tag i-tag
                            i-tag-other_2">
            #å…¶ä»–ç®—æ³•
        </a>
                        
                </div>
                <div class="post-article">
                    
                            <div class="post-content">
                                
                                        <div class="post-content-content">
                                            å‰ç¼€å’Œ
ç»™å®šä¸€ä¸ªåºåˆ—a[1âˆ’n]a[1-n]a[1âˆ’n]ã€‚
æœ‰å¾ˆå¤šæ¬¡è¯¢é—®ï¼Œæ¯ä¸ªè¯¢é—®å½¢å¦‚:l r  è¯¢é—®a[l,r]a[l,r]a[l,r]çš„åŒºé—´å’Œã€‚
æ¯æ¬¡è¯¢é—®çš„å¤æ‚åº¦è¦æ±‚ O(1)

é¢„å¤„ç†æ—¶é—´å¤æ‚åº¦O(n)O(n)O(n)
for(int i=1;i&amp;lt;=n;i++)
{
    scanf(&amp;quot;%d&amp;quot;,&amp;amp;a[i]);
    s[i]=s[i-1]+a[i];
}

a[l,r]a[l,r]a[l,r]çš„åŒºé—´å’Œ: s[r]-s[l-1]
æŸ¥è¯¢æ—¶é—´å¤æ‚åº¦O(1)O(1)O(1)
while(m--)
{
    int l,r;
    scanf(&amp;quot;%d%d&amp;quot;,&amp;amp;l,&amp;amp;r);
    printf(&amp;quot;%d\n&amp;quot;,s[r]-s[l-1]);
}

PS:å‰ç¼€å’Œä¸‹æ ‡ä»1å¼€å§‹
åŒºé—´åŠ /å·®åˆ†
ç»™å®šä¸€ä¸ªåºåˆ—a[1âˆ’n]a[1-n]a[1âˆ’n](åˆå€¼å…¨ä¸º0)ã€‚
æœ‰å¾ˆå¤šæ¬¡æ“ä½œï¼Œæ¯ä¸ªæ“ä½œå½¢å¦‚:l r  å°†a[l,r]a[l,r]a[l,r]çš„æ¯ä¸ªå€¼åŠ ä¸Škã€‚
æœ€åè¾“å‡ºæ•´ä¸ªæ•°ç»„ã€‚å¤æ‚åº¦è¦æ±‚O(n)O(n)O(n)

åŒºé—´åŠ [l,r]ï¼Œå®é™…ä¸Šæ˜¯å‘ç”Ÿäº†è¿™ä¸¤ä»¶äº‹ï¼š
a[l]æ¯”å‰ä¸€ä¸ªå…ƒç´ å¤šäº†k;
a[r+1]æ¯”å‰ä¸€ä¸ªå…ƒç´ å°‘äº†k.

æˆ‘ä»¬ç”¨æ•°ç»„bè¡¨ç¤ºåˆšåˆšçš„å·®å€¼ï¼Œb[i]=a[i]-a[i-1].
é‚£ä¹ˆï¼šåŒºé—´åŠ [ğ’,ğ’“]ï¼Œå¯ä»¥åŒ–ä¸ºè¿™ä¸¤ä¸ªæ“ä½œï¼š b[l]+=k; b[r+1]-=k;
void insert(int l,int r,int c)
{
    b[l]+=c;
    b[r+1]-=c;
}

å› æ­¤ï¼Œä¸€æ¬¡åŒºé—´åŠ åªä¿®æ”¹è¿™ä¸¤ä¸ªå…ƒç´ ï¼› æœ€ååˆ©ç”¨bæ•°ç»„æ±‚å‡ºaæ•°ç»„(aæ•°ç»„ä¸ºbæ•°ç»„çš„å‰ç¼€å’Œ)ï¼Œå¯¹bæ•°ç»„æ±‚ä¸€éå‰ç¼€å’Œå³ä¸ºç­”æ¡ˆã€‚
for(int i=1;i&amp;lt;=n;i++)
{
    b[i]+=b[i-1];
    printf(&amp;quot;%d &amp;quot;,b[i]);
}

PS:æ•°ç»„aåˆå€¼ä¸º0ï¼Œè¿›è¡Œnæ¬¡æ’å…¥æ“ä½œå¯å¾—åˆ°æ•°ç»„aã€‚
for(int i=1;i&amp;lt;=n;i++)
    scanf(&amp;quot;%d&amp;quot;,&amp;amp;a[i]);
for(int i=1;i&amp;lt;=n;i++)
    insert(i,i,a[i]);

æ€»ç»“ï¼šå·®åˆ†æ— éœ€æ„é€ ï¼Œå‰ç¼€å’Œéœ€æ„é€ 
é€šè¿‡ä¸Šè¿°çš„ä¸¤ä¸ªæ–¹æ³•ï¼Œæˆ‘ä»¬èƒ½è½»æ˜“åœ°å¤„ç†è¿™ä¸¤ç±»é—®é¢˜ï¼š

æ•°ç»„å›ºå®šï¼Œç„¶åå¤§é‡è¯¢é—®ï¼›
å¤§é‡åšåŒºé—´åŠ ï¼Œæœ€åè¦ä½ ç»™å‡ºè¿™ä¸ªæ•°ç»„ã€‚

ä¾‹é¢˜
Luogu2879
æœ‰å¥½å‡ å¤´ç‰›ä»ï¼‘åˆ°nçº¿æ€§æ’åˆ—ï¼Œæ¯å¤´ç‰›çš„é«˜åº¦ä¸ºh[i]ç°åœ¨å‘Šè¯‰ä½ è¿™é‡Œé¢çš„ç‰›çš„æœ€å¤§é«˜ åº¦ä¸ºmaxH,è€Œä¸”æœ‰rç»„å…³ç³»ï¼Œæ¯ç»„å…³ç³»è¾“å…¥ä¸¤ä¸ªæ•°å­—ï¼Œå‡è®¾ä¸ºaå’Œb,è¡¨ç¤ºç¬¬aå¤´ç‰›èƒ½çœ‹åˆ°ç¬¬bå¤´ç‰›ï¼Œèƒ½çœ‹åˆ°çš„æ¡ä»¶æ˜¯a, bä¹‹é—´çš„å…¶å®ƒç‰›çš„é«˜åº¦éƒ½ä¸¥æ ¼å°äºmin(h[a], h[b]),è€Œ h[b] &amp;gt;= h[a] æœ€åæ±‚æ‰€æœ‰ç‰›çš„å¯èƒ½æœ€é«˜èº«é«˜è¾“å‡º
æ€è·¯ï¼š
é¦–å…ˆå‡è®¾æ‰€æœ‰ç‰›éƒ½æ˜¯æœ€é«˜èº«é«˜ã€‚ è¯»å…¥çš„çº¦æŸä¿¡æ¯éœ€è¦å»é‡ï¼Œè¿™ä¸ªåˆ©ç”¨æ’åºæˆ–è€…setå¯ä»¥è§£å†³ã€‚ å¯ä»¥å‘ç°å¯¹äºæ¯ä¸ªä½ç½®h[i],å‡è®¾å®ƒè¢«è¦†ç›–äº†xæ¬¡ï¼Œæœ€åç­”æ¡ˆå°±æ˜¯h[i]-x. å¦‚æœå‡ºç°äº†ä¸€å¯¹[l,r]ï¼ŒæŠŠåŒºé—´(l,r)çš„æ•°éƒ½-1å°±å¯ä»¥äº†ã€‚ï¼ˆæ³¨æ„åŒºé—´å¼€é—­ï¼‰
#include&amp;lt;iostream&amp;gt;
#include&amp;lt;set&amp;gt; 
using namespace std;
const int N=10010;
int height[N];
set&amp;lt;pair&amp;lt;int,int&amp;gt; &amp;gt; S;

int main()
{
	int n,i,h,r;
	cin&amp;gt;&amp;gt;n&amp;gt;&amp;gt;i&amp;gt;&amp;gt;h&amp;gt;&amp;gt;r;
	height[1]=h;//å·®åˆ†æ•°ç»„ 
	
	while(r--)
	{
		int a,b;
		cin&amp;gt;&amp;gt;a&amp;gt;&amp;gt;b;
		if(a&amp;gt;b)
			swap(a,b);
		if(!S.count({a,b}))
		{
			S.insert({a,b});
			height[a+1]--;
			height[b]++;
		}
	}
	
	for(int i=1;i&amp;lt;=n;i++)
	{
		height[i]+=height[i-1];
		cout&amp;lt;&amp;lt;height[i]&amp;lt;&amp;lt;endl;
	}
	return 0;
 } 

Luogu3406
è¯¥é“è·¯ç»è¿‡Nä¸ªåŸå¸‚ï¼Œæ¯ä¸ªåŸå¸‚éƒ½æœ‰ä¸€ä¸ªç«™ã€‚ä¸è¿‡ï¼Œç”±äºå„ä¸ªåŸå¸‚ä¹‹é—´ä¸èƒ½åè°ƒå¥½ ï¼Œäºæ˜¯ä¹˜è½¦æ¯ç»è¿‡ä¸¤ä¸ªç›¸é‚»çš„åŸå¸‚ä¹‹é—´ï¼ˆæ–¹å‘ä¸é™ï¼‰ï¼Œå¿…é¡»å•ç‹¬è´­ä¹°è¿™ä¸€å°æ®µçš„è½¦ ç¥¨ã€‚ç¬¬iæ®µé“è·¯è¿æ¥äº†åŸå¸‚iå’ŒåŸå¸‚i+1(1&amp;lt;=i&amp;lt;N)ã€‚å¦‚æœæ­ä¹˜çš„æ¯”è¾ƒè¿œï¼Œéœ€è¦è´­ä¹°å¤šå¼  è½¦ç¥¨ã€‚ç¬¬iæ®µé“è·¯è´­ä¹°çº¸è´¨å•ç¨‹ç¥¨éœ€è¦Aiåšè‰¾å…ƒã€‚ è™½ç„¶ä¸€äº›äº‹æƒ…æ²¡æœ‰åè°ƒå¥½ï¼Œå„æ®µé“è·¯å…¬å¸ä¹Ÿä¸ºäº†æ–¹ä¾¿ä¹˜å®¢ï¼Œæ¨å‡ºäº†ICå¡ã€‚å¯¹äºç¬¬iæ®µ é“è·¯ï¼Œéœ€è¦èŠ±Ciåšè‰¾å…ƒçš„å·¥æœ¬è´¹è´­ä¹°ä¸€å¼ ICå¡ï¼Œç„¶åä¹˜åè¿™æ®µé“è·¯ä¸€æ¬¡å°±åªè¦æ‰£ Bi(Bi&amp;lt;Ai)å…ƒã€‚ICå¡å¯ä»¥æå‰è´­ä¹°ï¼Œæœ‰é’±å°±å¯ä»¥ä»ç½‘ä¸Šä¹°å¾—åˆ°ï¼Œè€Œä¸éœ€è¦äº²è‡ªå»å¯¹åº” çš„åŸå¸‚è´­ä¹°ã€‚å·¥æœ¬è´¹ä¸èƒ½é€€ï¼Œä¹Ÿä¸èƒ½è´­ä¹°è½¦ç¥¨ã€‚æ¯å¼ å¡éƒ½å¯ä»¥å……å€¼ä»»æ„æ•°é¢ã€‚å¯¹äº ç¬¬iæ®µé“è·¯çš„ICå¡ï¼Œæ— æ³•ä¹˜ååˆ«çš„é“è·¯çš„è½¦ã€‚ Uimç°åœ¨éœ€è¦å‡ºå·®ï¼Œè¦å»Mä¸ªåŸå¸‚ï¼Œä»åŸå¸‚P1å‡ºå‘åˆ†åˆ«æŒ‰ç…§P1,P2,P3...PMçš„é¡ºåºè®¿ é—®å„ä¸ªåŸå¸‚ï¼Œå¯èƒ½ä¼šå¤šæ¬¡è®¿é—®ä¸€ä¸ªåŸå¸‚ï¼Œä¸”ç›¸é‚»è®¿é—®çš„åŸå¸‚ä½ç½®ä¸ä¸€å®šç›¸é‚»ï¼Œè€Œä¸” ä¸ä¼šæ˜¯åŒä¸€ä¸ªåŸå¸‚ã€‚ ç°åœ¨ä»–å¸Œæœ›çŸ¥é“ï¼Œå‡ºå·®ç»“æŸåï¼Œè‡³å°‘ä¼šèŠ±æ‰å¤šå°‘çš„é’±ï¼ŒåŒ…æ‹¬è´­ä¹°çº¸è´¨è½¦ç¥¨ã€ä¹°å¡å’Œ å……å€¼çš„æ€»è´¹ç”¨ã€‚
ç›´æ¥æ¨¡æ‹Ÿæ¯æ®µé“è·¯çš„è¦†ç›–å³å¯
 #include&amp;lt;iostream&amp;gt;
using namespace std;
const int N=100010;
 int a[N];
 int b[N];//å·®åˆ†æ•°ç»„ 
 typedef long long LL;
 
 int main()
 {
 	int n,m;
 	cin&amp;gt;&amp;gt;n&amp;gt;&amp;gt;m;
 	for(int i=1;i&amp;lt;=m;i++)
 		cin&amp;gt;&amp;gt;a[i];
 	for(int i=1;i&amp;lt;m;i++)
 	{
 		b[min(a[i],a[i+1])]++;
 		b[max(a[i],a[i+1])]--;
	 }
	 
	 for(int i=1;i&amp;lt;=n;i++)
	 	b[i]+=b[i-1];
	
//	for(int i=1;i&amp;lt;=n;i++)
//		cout&amp;lt;&amp;lt;&amp;quot;--&amp;quot;&amp;lt;&amp;lt;b[i]&amp;lt;&amp;lt;&#39; &#39;;
	
	LL sum=0;
	for(int i=1;i&amp;lt;n;i++)
	{
		LL ai,bi,ci;
		cin&amp;gt;&amp;gt;ai&amp;gt;&amp;gt;bi&amp;gt;&amp;gt;ci;
		sum+=min(ai*b[i],ci+bi*b[i]);
	}
	
	cout&amp;lt;&amp;lt;sum&amp;lt;&amp;lt;endl;
	return 0;
 }

Luogu1083
æ€è·¯1ï¼š
åˆ©ç”¨å·®åˆ†æ•°ç»„å­˜æ¯å¤©çš„æ•™å®¤ä½¿ç”¨æƒ…å†µï¼Œç„¶åæ±‚å‰ç¼€å’Œï¼Œå¦‚æœå‘ç°ä¸ç¬¦åˆè¦æ±‚ï¼Œå°±ä»åå¾€å‰æ’¤å›è®¢å•ï¼Œç›´åˆ°æ¯å¤©éƒ½ç¬¦åˆè¦æ±‚ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ’¤å›çš„æœ€åä¸€ä¸ªï¼ˆä¹Ÿå°±æ˜¯æœ€é å‰çš„ä¸€ä¸ªï¼‰å³ä¸ºans
#include&amp;lt;iostream&amp;gt;
#include&amp;lt;cstdio&amp;gt;
using namespace std;
int n,m;
const int N=1000010,INF=0x3f3f3f3f;
int a[N];
int b[N];
int l[N],r[N],d[N];
int res=INF;

int main()
{
	cin&amp;gt;&amp;gt;n&amp;gt;&amp;gt;m;
	
	for(int i=1;i&amp;lt;=n;i++)
		scanf(&amp;quot;%d&amp;quot;,&amp;amp;a[i]);
	
	for(int i=1;i&amp;lt;=m;i++)
	{
		scanf(&amp;quot;%d%d%d&amp;quot;,&amp;amp;d[i],&amp;amp;l[i],&amp;amp;r[i]);
		b[l[i]]+=d[i];
		b[r[i]+1]-=d[i];
	}
	
	int j=m;//ä»åå¾€å‰æ’¤å›è®¢å•ï¼Œç›´è‡³æ»¡è¶³è¦æ±‚ 
	int sum=0;
	for(int i=1;i&amp;lt;=n;i++)
	{
		sum+=b[i];
		//cout&amp;lt;&amp;lt;sum&amp;lt;&amp;lt;&#39; &#39;;
		if(sum&amp;gt;a[i])
		{
			//ä»åå¾€å‰æ’¤å› 
			while(sum&amp;gt;a[i])
			{
				b[l[j]]-=d[j];
				b[r[j]+1]+=d[j];
				if(i&amp;gt;=l[j] &amp;amp;&amp;amp; i&amp;lt;=r[j])
					sum-=d[j];
				j--;
			}
			res=min(res,j);
		}	
	}
	
	if(res==INF)
		cout&amp;lt;&amp;lt;&amp;quot;0&amp;quot;;
    else 
		cout&amp;lt;&amp;lt;&amp;quot;-1&amp;quot;&amp;lt;&amp;lt;endl&amp;lt;&amp;lt;res+1&amp;lt;&amp;lt;endl;
    return 0;
}

æ€è·¯2ï¼š
åœ¨è¿™ä¸ªé¢˜é‡Œï¼Œå› ä¸ºå¦‚æœå‰ä¸€ä»½è®¢å•éƒ½ä¸æ»¡è¶³ï¼Œé‚£ä¹ˆä¹‹åçš„æ‰€æœ‰è®¢å•éƒ½ä¸ç”¨ç»§ç»­è€ƒè™‘ï¼›è€Œå¦‚æœåä¸€ä»½è®¢å•éƒ½æ»¡è¶³ï¼Œé‚£ä¹ˆä¹‹å‰çš„æ‰€æœ‰è®¢å•ä¸€å®šéƒ½å¯ä»¥æ»¡è¶³ï¼Œç¬¦åˆå±€éƒ¨èˆå¼ƒæ€§ï¼Œæ‰€ä»¥å¯ä»¥äºŒåˆ†è®¢å•æ•°é‡ã€‚
#include&amp;lt;iostream&amp;gt;
#include&amp;lt;cstdio&amp;gt;
#include&amp;lt;cstring&amp;gt;
using namespace std;
int n,m;
const int N=1000010,INF=0x3f3f3f3f;
int a[N];
int b[N];
int s[N],t[N],d[N];

bool check(int x)//åˆ¤æ–­å‰xä»½è®¢å•èƒ½å¦å…¨éƒ¨æ»¡è¶³ 
{
	memset(b,0,sizeof b);
	for(int i=1;i&amp;lt;=x;i++)
	{
		b[s[i]]+=d[i];
		b[t[i]+1]-=d[i];
	}

	for(int i=1;i&amp;lt;=n;i++)
	{
		b[i]+=b[i-1];
		if(b[i]&amp;gt;a[i])
			return false;
	}
	return true;
}

int main()
{
//	freopen(&amp;quot;test.in.txt&amp;quot;,&amp;quot;r&amp;quot;,stdin);
//	freopen(&amp;quot;test.out&amp;quot;,&amp;quot;w&amp;quot;,stdout);
	scanf(&amp;quot;%d%d&amp;quot;,&amp;amp;n,&amp;amp;m);
	
	for(int i=1;i&amp;lt;=n;i++)
		scanf(&amp;quot;%d&amp;quot;,&amp;amp;a[i]);
	
	for(int i=1;i&amp;lt;=m;i++)
	{
		scanf(&amp;quot;%d%d%d&amp;quot;,&amp;amp;d[i],&amp;amp;s[i],&amp;amp;t[i]);
	}
	if(check(m))
	{
		puts(&amp;quot;0&amp;quot;);
		return 0;
	}
	int l=0,r=m;//lå–æˆ0ï¼Œé˜²æ­¢æ— è§£æƒ…å†µ 
	while(l&amp;lt;r)
	{
		int mid=l+r+1&amp;gt;&amp;gt;1;
		if(check(mid))
			l=mid;
		else	
			r=mid-1;
	}
	cout&amp;lt;&amp;lt;-1&amp;lt;&amp;lt;endl;
	cout&amp;lt;&amp;lt;l+1&amp;lt;&amp;lt;endl;

    return 0;
}

å‰ç¼€å’Œ+å·®åˆ†
luoguP3948
#include&amp;lt;bits/stdc++.h&amp;gt;
using namespace std;
const int N=80010;
typedef long long LL;
LL b[N];
int sum[N];
int n,opt,minn,maxx,l,r,x,f;
LL mod;
char ch[5];

int main()
{
    scanf(&amp;quot;%d%d%lld%d%d&amp;quot;,&amp;amp;n,&amp;amp;opt,&amp;amp;mod,&amp;amp;minn,&amp;amp;maxx);
    for(int j=1;j&amp;lt;=opt;j++){
        scanf(&amp;quot;%s%d%d%&amp;quot;,&amp;amp;ch,&amp;amp;l,&amp;amp;r);
        if(ch[0]==&#39;A&#39;){
            scanf(&amp;quot;%d&amp;quot;,&amp;amp;x);
            b[l]+=x;
            b[r+1]-=x;
        }
        else{
            int ans=0;
			LL now=0;
            for(int i=1;i&amp;lt;=r;i++){
                now+=b[i];
                if(i&amp;gt;=l&amp;amp;&amp;amp;(now*i)%mod&amp;gt;=minn&amp;amp;&amp;amp;(now*i)%mod&amp;lt;=maxx)ans++;
            }
            printf(&amp;quot;%d\n&amp;quot;,ans);
        }
    }
    scanf(&amp;quot;%d&amp;quot;,&amp;amp;f);
    for(int i=1;i&amp;lt;=n;i++){
        b[i]+=b[i-1];
        if((b[i]*i)%mod&amp;gt;=minn&amp;amp;&amp;amp;(b[i]*i)%mod&amp;lt;=maxx)sum[i]=sum[i-1]+1;
        else sum[i]=sum[i-1];
    }
    for(int j=1;j&amp;lt;=f;j++){
        scanf(&amp;quot;%d%d&amp;quot;,&amp;amp;l,&amp;amp;r);
        printf(&amp;quot;%d\n&amp;quot;,sum[r]-sum[l-1]);
    }
    return 0;
}


                                        </div>
                                        
                                            <a class="btn btn-text" href="https://caifxh.github.io/post/qian-zhui-he-chai-fen/">Read More ~</a>
                            </div>
                </div>
            </article>
            
            <article class="post i-card">
                <h2 class="post-title">
                    <a href="https://caifxh.github.io/post/dan-diao-shu-ju-jie-gou/">
                        å•è°ƒæ•°æ®ç»“æ„
                    </a>
                </h2>
                <div class="post-info">
                    <time class="post-time">2020-04-08</time>
                    
                        <a href="https://caifxh.github.io/tag/TZ7cITYtt/" class="post-tag i-tag
                            i-tag-info">
            #å…¶ä»–ç®—æ³•
        </a>
                        
                </div>
                <div class="post-article">
                    
                            <div class="post-content">
                                
                                        <div class="post-content-content">
                                            å•è°ƒæ ˆ

ç»™å®šä¸€ä¸ªåºåˆ—ã€‚å¯¹åºåˆ—ä¸­çš„æ¯ä¸ªå…ƒç´ ï¼Œæ±‚å‡ºå®ƒå·¦ä¾§çš„ç¬¬ä¸€ä¸ªå°äºå®ƒ çš„å…ƒç´ çš„ä½ç½®ã€‚è‹¥æ²¡æœ‰è¿™æ ·çš„å…ƒç´ ï¼Œè¾“å‡º0ã€‚

æ ·ä¾‹è¾“å…¥ï¼š
4
5 3 7 4
æ ·ä¾‹è¾“å‡ºï¼š
0 0 2 2

æ¨¡æ¿é¢˜1
#include&amp;lt;iostream&amp;gt;
using namespace std;
const int N=100010;
int stk[N],top;

int main()
{
    int n;
    cin&amp;gt;&amp;gt;n;
    while(n--)
    {
        int x;
        cin&amp;gt;&amp;gt;x;
        while(top&amp;amp;&amp;amp;stk[top]&amp;gt;=x)
            top--;
        if(top)  
            cout&amp;lt;&amp;lt;stk[top]&amp;lt;&amp;lt;&amp;quot; &amp;quot;;
        else 
            cout&amp;lt;&amp;lt;-1&amp;lt;&amp;lt;&amp;quot; &amp;quot;;
        stk[++top]=x;
    }
    return 0;
}

æ¨¡æ¿é¢˜2
æ‰¾å‡ºç¬¬ i ä¸ªå…ƒç´ ä¹‹åç¬¬ä¸€ä¸ªå¤§äº aiçš„å…ƒç´ çš„ä¸‹æ ‡
åˆ†æï¼š
ä»åå¾€å‰æšä¸¾ï¼Œå¯¹äºi&amp;lt;j,è‹¥a[i]&amp;gt;=a[j],åˆ™jä¸å¯èƒ½æˆä¸ºä¸‹æ ‡å°äºiçš„å…ƒç´ çš„ç­”æ¡ˆã€‚
#include&amp;lt;iostream&amp;gt;
#include&amp;lt;cstdio&amp;gt;
using namespace std;
const int N=3e6+10;
int stk[N],top;
int n;
int a[N];
int ans[N];

int main()
{
	cin&amp;gt;&amp;gt;n;
	for(int i=1;i&amp;lt;=n;i++) scanf(&amp;quot;%d&amp;quot;,&amp;amp;a[i]);
	
	for(int i=n;i&amp;gt;=1;i--)
	{
		while(top &amp;amp;&amp;amp; a[stk[top]] &amp;lt;= a[i]) top--;
		
		if(top) ans[i]=stk[top];
		else ans[i]=0;
		
		stk[++top]=i;
		
	}
	
	for(int i=1;i&amp;lt;=n;i++) printf(&amp;quot;%d &amp;quot;,ans[i]);
	return 0;
}

ä¾‹é¢˜
poj2559

é¦–å…ˆè€ƒè™‘æœ€å¤§é¢ç§¯çš„çŸ©å½¢Xçš„å·¦å³è¾¹ç•Œçš„æ€§è´¨ï¼š
è®¾å…¶å·¦è¾¹ç•Œä¸ºLï¼Œå³è¾¹ç•Œä¸ºRï¼Œåˆ™å…¶é«˜H = min{h[i] | L &amp;lt;= i &amp;lt;= R}
æ­¤æ—¶æœ€å¤§é¢ç§¯ä¸º (R - L + 1) * H
è‹¥æ­¤æ—¶å·¦è¾¹ç•Œçš„å·¦è¾¹é‚£ä¸ªçŸ©å½¢çš„é«˜åº¦ h[L-1] &amp;gt;= H
åˆ™å·¦è¾¹ç•Œå¯ä»¥å‘å·¦æ‹“å±•ï¼Œåˆ™æ–°çš„é¢ç§¯ä¸ºï¼š
(R - (L-1) + 1) * H &amp;gt; åŸé¢ç§¯
åˆ™ä¸åŸå‡è®¾æ¡ä»¶å†²çª
æ•…å·¦è¾¹ç•Œå·¦è¾¹çš„é‚£ä¸ªçŸ©å½¢çš„é«˜åº¦ :h[L-1] &amp;lt; H
åŒç†å³è¾¹ç•Œå³è¾¹çš„é‚£ä¸ªçŸ©å½¢çš„é«˜åº¦ï¼š h[R+1] &amp;lt; H
è®¾H = h[i]
æ‰€ä»¥å·¦è¾¹ç•ŒLæ˜¯æ»¡è¶³h[j-1] &amp;lt; h[i]çš„æœ€å¤§çš„jï¼Œå³ä»iç‚¹å‘å·¦éå†çš„ç¬¬ä¸€ä¸ªé«˜åº¦æ¯”iå°çš„ç‚¹çš„å³è¾¹ä¸€ä¸ªç‚¹
è€Œå³è¾¹ç•ŒRæ˜¯æ»¡è¶³ h[j+1] &amp;lt; h[i]çš„æœ€å°çš„jï¼Œå³ä»iç‚¹å‘å³éå†ç¬¬ä¸€ä¸ªé«˜åº¦æ¯”iå°çš„ç‚¹çš„å·¦è¾¹ä¸€ä¸ªç‚¹
æ‰€ä»¥æˆ‘ä»¬å¯ä»¥åˆ©ç”¨å•è°ƒæ ˆçš„æ€§è´¨å¾—åˆ°æ¯ä¸ªç¡®å®šç‚¹ï¼Œå³ç¡®å®šé«˜åº¦çš„æœ€å¤§é¢ç§¯çŸ©å½¢çš„å·¦å³è¾¹ç•Œï¼Œç„¶åæšä¸¾å–æœ€å¤§å³å¯ã€‚
#include&amp;lt;iostream&amp;gt;
#include&amp;lt;cstdio&amp;gt;
#include&amp;lt;algorithm&amp;gt;
using namespace std;
typedef long long LL;
const int N=100010;
int h[N];
int l[N],r[N];
int stk[N],top;
int n;

int main()
{
	while(~scanf(&amp;quot;%d&amp;quot;,&amp;amp;n) &amp;amp;&amp;amp; n)
	{
		top=0;
		for(int i=1;i&amp;lt;=n;i++)
			scanf(&amp;quot;%d&amp;quot;,&amp;amp;h[i]);
		
		for(int i=1;i&amp;lt;=n;i++)//æ‰¾å‡ºh[i]å·¦è¾¹ç¬¬ä¸€ä¸ªå°äºh[i]çš„ä½ç½® 
		{
			while(top &amp;amp;&amp;amp; h[stk[top]] &amp;gt;= h[i]) 
				top--;
			
			if(top) l[i]=stk[top]+1;
			else l[i]=1;//è¡¨ç¤ºå·¦è¾¹æ²¡æœ‰æ¯”h[i]å°çš„ä½ç½® 
			
			stk[++top]=i;
		}
		
		top=0;
		for(int i=n;i&amp;gt;=1;i--)//æ‰¾å‡ºh[i]å³è¾¹ç¬¬ä¸€ä¸ªå°äºh[i]çš„ä½ç½® 
		{
			while(top &amp;amp;&amp;amp; h[stk[top]] &amp;gt;= h[i])
				top--;
			if(top) r[i]=stk[top]-1;
			else r[i]=n;//è¡¨ç¤ºå³è¾¹æ²¡æœ‰æ¯”h[i]å¤§çš„ä½ç½® 
				
			stk[++top]=i; 
		}
		
		LL ans=0;
		for(int i=1;i&amp;lt;=n;i++)
			ans=max(ans,(LL)h[i]*(r[i]-l[i]+1));
	
		printf(&amp;quot;%lld\n&amp;quot;,ans);
	}
	return 0;
}

P1901
å¯¹äºä¸€ä¸ªæ–°çš„ä¿¡å·å¡”:

å½“ä»–åŠ å…¥æ ˆä¸­æ—¶,ä¼šæŒ¡ä½ä¹‹å‰æ¯”å®ƒä½çš„å¡”çš„ä¼ æ’­,åŒæ—¶ , ä¹Ÿä¼šæ¥å—åˆ°æ¯”å®ƒä½çš„å¡”çš„ä¿¡å·
æ‰€ä»¥å°†æ ˆé¡¶æ‰€æœ‰æ¯”å®ƒä½çš„å¡”åˆ é™¤,(å› ä¸ºä»–ä»¬å·²ç»ä¸èƒ½å†ä¼ æ’­ç»™å…¶ä»–å¡”ä¿¡å·äº†),åŒæ—¶ , æ–°çš„å¡”æ¥æ”¶åˆ°çš„èƒ½é‡åŠ ä¸Š åˆ æ‰çš„å¡”ä¼ æ’­çš„èƒ½é‡
å¯¹äºåŸæœ‰çš„é«˜åº¦æ¯”å®ƒé«˜çš„ä¿¡å·å¡”,ç¦»æ­¤æ–°çš„ä¿¡å·å¡”æœ€è¿‘çš„(å½“å‰æ ˆé¡¶å…ƒç´ ),ä¼šæ¥å—åˆ°æ–°çš„å¡”çš„ä¿¡å·
å†å°†æ­¤æ–°çš„ä¿¡å·å¡”åŠ å…¥æ ˆä¸­,æœ€åO(n)æ‰«ä¸€éå,è¾“å‡ºæœ€å¤§å€¼å³å¯

#include&amp;lt;iostream&amp;gt;
#include&amp;lt;cstdio&amp;gt;
#include&amp;lt;algorithm&amp;gt;
using namespace std;
const int N=1e6+10;
int stk[N],top;
int sum[N];
int h[N],w[N];
int n;

int main()
{
	cin&amp;gt;&amp;gt;n;
	for(int i=1;i&amp;lt;=n;i++)
	{
		cin&amp;gt;&amp;gt;h[i]&amp;gt;&amp;gt;w[i];
		
		while(top &amp;amp;&amp;amp; h[stk[top]] &amp;lt;= h[i])
			sum[i]+=w[stk[top--]];
		sum[stk[top]]+=w[i];
		
		stk[++top]=i;
	}
	
	int ans=0;
	for(int i=1;i&amp;lt;=n;i++)
		ans=max(ans,sum[i]);
	
	printf(&amp;quot;%d\n&amp;quot;,ans);
	return 0;
}

P1823
å…ˆå‡è®¾æ¯ä¸ªäººèº«é«˜ä¸åŒï¼Œè„‘è¡¥ä¸€ä¸‹èµ°è¿‡æ•´ä¸ªé˜Ÿåˆ—ã€‚

è§‚å¯Ÿé˜Ÿä¼ä¸­çš„ä¸€ä¸ªäººAã€‚å¦‚æœæˆ‘ä»¬ä»–åé¢æ‰¾åˆ°äº†ä¸€ä¸ªæ¯”ä»–ä¸çŸ¥é“é«˜åˆ°å“ªé‡Œå»äº†çš„Bï¼ŒAå°±ä¸èƒ½ä¸Båé¢çš„äººè°ˆç¬‘é£ç”Ÿäº†ã€‚
å› æ­¤æˆ‘ä»¬å¯ä»¥ç»´æŠ¤ä¸€ä¸ªå•è°ƒæ ˆï¼Œè®°å½•æˆ‘ä»¬å·²ç»æ‰¾åˆ°è¿‡çš„é«˜äººï¼Œæ˜¾ç„¶æ ˆä¸Šçš„é«˜äººä»¬æŒ‰é«˜åº¦çš„é™åºæ’åˆ—ï¼Œæ ˆé¡¶çš„äººæœ€çŸ®ã€‚
å½“æˆ‘ä»¬æ‰¾åˆ°ä¸€ä¸ªæ–°çš„é«˜äººæ—¶ï¼Œä»–å¯ä»¥å‘æ ˆé‡Œæ¯”ä»–çŸ®çš„äººä¼ æˆäººç”Ÿç»éªŒï¼Œå¹¶è®©ä»–ä»¬å‡ºæ ˆã€‚å¦‚æœå‡ºæ ˆä¹‹åæ ˆéç©ºï¼Œä»–è¿˜å¯ä»¥ä¸æ ˆé¡¶çš„é«˜äººè°ˆç¬‘é£ç”Ÿã€‚ç„¶åæˆ‘ä»¬å†å¦è¯·è¿™ä½é«˜æ˜è¿›æ ˆã€‚
æˆ‘ä»¬è¿˜è¦è€ƒè™‘ä¸¤ä¸ªäººèº«é«˜ç›¸åŒçš„æƒ…å†µã€‚æˆ‘ä»¬å¯ä»¥åœ¨æ ˆé‡Œå­˜pair&amp;lt;èº«é«˜ï¼Œäººæ•°&amp;gt;å¹¶ç»´æŠ¤å®ƒã€‚

#include&amp;lt;iostream&amp;gt;
#include&amp;lt;cstdio&amp;gt;
#include&amp;lt;algorithm&amp;gt;
using namespace std;
typedef pair&amp;lt;int,int&amp;gt; PII;
#define x first
#define y second
typedef long long LL;
const int N=500010;
int h[N];
PII stk[N];
int top;
int n;

int main()
{
	cin&amp;gt;&amp;gt;n;
	LL ans=0;
	for(int i=1;i&amp;lt;=n;i++)
	{
		scanf(&amp;quot;%d&amp;quot;,&amp;amp;h[i]);
		
		PII p=make_pair(h[i],1);
		while(top &amp;amp;&amp;amp; stk[top].x &amp;lt;= h[i])
		{
			if(stk[top].x == h[i]) 
				p.y+=stk[top].y;
			ans+=stk[top].y;
			top--;
		}
		
		if(top) ans++;
		stk[++top]=p;
	}
	printf(&amp;quot;%lld\n&amp;quot;,ans);
	return 0;
}

å•è°ƒé˜Ÿåˆ—

æ¨¡æ¿é¢˜

å•è°ƒé˜Ÿåˆ—ä¸æ™®é€šé˜Ÿåˆ—ä¸ä¸€æ ·çš„åœ°æ–¹å°±åœ¨äºå•è°ƒé˜Ÿåˆ—æ—¢å¯ä»¥ä»é˜Ÿé¦–å‡ºé˜Ÿï¼Œä¹Ÿå¯ä»¥ä»é˜Ÿå°¾å‡ºé˜Ÿã€‚
é‚£ä¹ˆæˆ‘ä»¬åº”è¯¥æ€æ ·å®ç°å•è°ƒé˜Ÿåˆ—å‘¢?
å°±æ‹¿æ ·ä¾‹æ¥è°ˆè°ˆï¼Œè®¾ä»¥æœ€å°çš„ä¸ºæ ‡å‡†ã€‚

8 3
1 3 -1 -3 5 3 6 7
ä¸‹æ–‡ä¸­æˆ‘ä»¬ç”¨qæ¥è¡¨ç¤ºå•è°ƒé˜Ÿåˆ—ï¼Œpæ¥è¡¨ç¤ºå…¶æ‰€å¯¹åº”çš„åœ¨åŸåˆ—è¡¨é‡Œçš„åºå·ã€‚


ç”±äºæ­¤æ—¶é˜Ÿä¸­æ²¡æœ‰ä¸€ä¸ªå…ƒç´ ï¼Œæˆ‘ä»¬ç›´æ¥ä»¤1è¿›é˜Ÿã€‚æ­¤æ—¶ï¼Œq={1},p={1}ã€‚


ç°åœ¨3é¢ä¸´ç€æŠ‰æ‹©ã€‚ä¸‹é¢åŸºäºè¿™æ ·ä¸€ä¸ªæ€æƒ³:å‡å¦‚æŠŠ3æ”¾è¿›å»ï¼Œå¦‚æœåé¢2ä¸ªæ•°éƒ½æ¯”å®ƒå¤§ï¼Œé‚£ä¹ˆ3åœ¨å…¶æœ‰ç”Ÿä¹‹å¹´å°±æœ‰å¯èƒ½æˆä¸ºæœ€å°çš„ã€‚æ­¤æ—¶ï¼Œq={1,3},p={1,2}


ä¸‹é¢å‡ºç°äº†-1ã€‚é˜Ÿå°¾å…ƒç´ 3æ¯”-1å¤§ï¼Œé‚£ä¹ˆæ„å‘³ç€åªè¦-1è¿›é˜Ÿï¼Œé‚£ä¹ˆ3åœ¨å…¶æœ‰ç”Ÿä¹‹å¹´å¿…å®šæˆä¸ºä¸äº†æœ€å°å€¼ï¼ŒåŸå› å¾ˆæ˜æ˜¾:å› ä¸ºå½“ä¸‹é¢3è¢«æ¡†èµ·æ¥ï¼Œé‚£ä¹ˆ-1ä¹Ÿä¸€å®šè¢«æ¡†èµ·æ¥ï¼Œæ‰€ä»¥3æ°¸è¿œä¸èƒ½å½“æœ€å°å€¼ã€‚æ‰€ä»¥ï¼Œ3ä»é˜Ÿå°¾å‡ºé˜Ÿã€‚åŒç†ï¼Œ1ä»é˜Ÿå°¾å‡ºé˜Ÿã€‚æœ€å-1è¿›é˜Ÿï¼Œæ­¤æ—¶q={-1},p={3}


å‡ºç°-3ï¼ŒåŒä¸Šé¢åˆ†æï¼Œ-1&amp;gt;-3ï¼Œ-1ä»é˜Ÿå°¾å‡ºé˜Ÿ,-3ä»é˜Ÿå°¾è¿›é˜Ÿã€‚q={-3}ï¼Œp={4}ã€‚


å‡ºç°5ï¼Œå› ä¸º5&amp;gt;-3ï¼ŒåŒç¬¬äºŒæ¡åˆ†æï¼Œ5åœ¨æœ‰ç”Ÿä¹‹å¹´è¿˜æ˜¯æœ‰å¸Œæœ›çš„ï¼Œæ‰€ä»¥5è¿›é˜Ÿã€‚æ­¤æ—¶ï¼Œq={-3,5},p={4,5}


å‡ºç°3ã€‚3å…ˆä¸é˜Ÿå°¾çš„5æ¯”è¾ƒï¼Œ3&amp;lt;5ï¼ŒæŒ‰ç…§ç¬¬3æ¡çš„åˆ†æï¼Œ5ä»é˜Ÿå°¾å‡ºé˜Ÿã€‚3å†ä¸-3æ¯”è¾ƒï¼ŒåŒç¬¬äºŒæ¡åˆ†æï¼Œ3è¿›é˜Ÿã€‚æ­¤æ—¶ï¼Œq={-3,3},p={4,6}


å‡ºç°6ã€‚6ä¸3æ¯”è¾ƒï¼Œå› ä¸º3&amp;lt;6ï¼Œæ‰€ä»¥3ä¸å¿…å‡ºé˜Ÿã€‚ç”±äº3ä»¥å‰å…ƒç´ éƒ½ï¼œ3ï¼Œæ‰€ä»¥ä¸å¿…å†æ¯”è¾ƒï¼Œ6è¿›é˜Ÿã€‚å› ä¸º-3æ­¤æ—¶å·²ç»åœ¨æ»‘åŠ¨çª—å£ä¹‹å¤–ï¼Œæ‰€ä»¥-3ä»é˜Ÿé¦–å‡ºé˜Ÿã€‚æ­¤æ—¶ï¼Œq={3,6},p={6,7}


å‡ºç°7ã€‚é˜Ÿå°¾å…ƒç´ 6å°äº7ï¼Œ7è¿›é˜Ÿã€‚æ­¤æ—¶ï¼Œq={3,6,7},p={6,7,8}ã€‚


é‚£ä¹ˆï¼Œæˆ‘ä»¬å¯¹å•è°ƒé˜Ÿåˆ—çš„åŸºæœ¬æ“ä½œå·²ç»åˆ†æå®Œæ¯•ã€‚å› ä¸ºå•è°ƒé˜Ÿåˆ—ä¸­å…ƒç´ å¤§å°å•è°ƒé€’(å¢/å‡/è‡ªå®šä¹‰æ¯”è¾ƒ)ï¼Œå› æ­¤ï¼Œé˜Ÿé¦–å…ƒç´ å¿…å®šæ˜¯æœ€å€¼ã€‚æŒ‰é¢˜æ„è¾“å‡ºå³å¯ã€‚
#include&amp;lt;iostream&amp;gt;
#include&amp;lt;cstdio&amp;gt;
#include&amp;lt;algorithm&amp;gt;
using namespace std;
const int N=1000010;
int a[N];
int q[N];
int n,k;

int main()
{
	scanf(&amp;quot;%d%d&amp;quot;,&amp;amp;n,&amp;amp;k);
	
	int hh=0,tt=-1;
	
	for(int i=1;i&amp;lt;=n;i++)
		scanf(&amp;quot;%d&amp;quot;,&amp;amp;a[i]);
		
	for(int i=1;i&amp;lt;=n;i++)//æ±‚æ»‘åŠ¨çª—å£æœ€å°å€¼ 
	{
		if(hh &amp;lt;= tt &amp;amp;&amp;amp; i-k&amp;gt;= q[hh]) hh++;
		while(hh &amp;lt;= tt &amp;amp;&amp;amp; a[q[tt]] &amp;gt;= a[i])
			tt--;
		q[++tt]=i;
		if(i &amp;gt;= k)
			printf(&amp;quot;%d &amp;quot;,a[q[hh]]);
	}
	puts(&amp;quot;&amp;quot;);
	
	hh=0,tt=-1;
	for(int i=1;i&amp;lt;=n;i++)
	{
		if(hh &amp;lt;= tt &amp;amp;&amp;amp; i-k&amp;gt;=q[hh]) hh++;
		while(hh &amp;lt;= tt &amp;amp;&amp;amp; a[q[tt]] &amp;lt;= a[i])
			tt--;
		q[++tt]=i;
		if(i &amp;gt;= k)
			printf(&amp;quot;%d &amp;quot;,a[q[hh]]);
	}
	return 0;
}

acwing135

#include &amp;lt;cstring&amp;gt;
#include &amp;lt;iostream&amp;gt;
#include &amp;lt;algorithm&amp;gt;
using namespace std;
const int N = 300010, INF = 0x3f3f3f3f;
int n, m;
int s[N];
int q[N];

int main()
{
    scanf(&amp;quot;%d%d&amp;quot;, &amp;amp;n, &amp;amp;m);
    for (int i = 1; i &amp;lt;= n; i ++ ) scanf(&amp;quot;%d&amp;quot;, &amp;amp;s[i]), s[i] += s[i - 1];

    int res = -INF;
    int hh = 0, tt = -1;
    q[++tt]=0;//å°†s[0]å…¥é˜Ÿ
    for (int i = 1; i &amp;lt;= n; i ++ )
    {
        if(hh&amp;lt;=tt &amp;amp;&amp;amp; i-m &amp;gt; q[hh]) hh++;
        res=max(res,s[i]-s[q[hh]]);
        while (hh &amp;lt;= tt &amp;amp;&amp;amp; s[q[tt]] &amp;gt;= s[i]) tt -- ;
        q[ ++ tt] = i;
    }

    printf(&amp;quot;%d\n&amp;quot;, res);

    return 0;
}


                                        </div>
                                        
                                            <a class="btn btn-text" href="https://caifxh.github.io/post/dan-diao-shu-ju-jie-gou/">Read More ~</a>
                            </div>
                </div>
            </article>
            
            <article class="post i-card">
                <h2 class="post-title">
                    <a href="https://caifxh.github.io/post/gao-jing-du/">
                        é«˜ç²¾åº¦
                    </a>
                </h2>
                <div class="post-info">
                    <time class="post-time">2020-04-08</time>
                    
                        <a href="https://caifxh.github.io/tag/TZ7cITYtt/" class="post-tag i-tag
                            i-tag-other_4">
            #å…¶ä»–ç®—æ³•
        </a>
                        
                </div>
                <div class="post-article">
                    
                            <div class="post-content">
                                
                                        <div class="post-content-content">
                                            é«˜ç²¾åº¦åŠ æ³•
å½“è¿›è¡ŒåŠ æ³•è¿ç®—çš„æ•°å­—è¾ƒå¤§æ—¶ï¼Œå—å­˜å‚¨èŒƒå›´é™åˆ¶ï¼Œæ— æ³•ä½¿ç”¨intæˆ–longlongå‹å˜é‡è¿›è¡Œå­˜å‚¨ã€‚
è€ƒè™‘åˆ°åŠ æ³•è¿ç®—çš„æœ¬è´¨ï¼Œä¸å¦¨å°†æ•°å­—æ‹†å¼€æ¥å­˜å‚¨ã€‚
å¯¹äºä¸€ä¸ªè¶…è¿‡å˜é‡å­˜å‚¨æ•°æ®èŒƒå›´çš„æ•°å­—ï¼Œå¯ä»¥å°†è¿™ä¸ªæ•°å­—æ‹†å¼€ï¼Œæ‹†æˆä¸€ä½ä¸€ä½çš„ï¼Œæˆ–è€…æ˜¯å‡ ä½å‡ ä½çš„å­˜å‚¨åˆ°ä¸€ä¸ªæ•°ç»„ä¸­ï¼Œ ç”¨ä¸€ä¸ªæ•°ç»„å»è¡¨ç¤ºä¸€ä¸ªæ•°å­—
é‡‡ç”¨ç”¨é¡ºåºå­˜å‚¨æ•°æ®æ–¹å¼ï¼Œä¼šæœ‰ä¸€ä¸ªé—®é¢˜ï¼šæœ€é«˜ä½è¿›ä½å˜å¾—å¾ˆå›°éš¾ã€‚
æœ€é«˜ä½åœ¨num[0]ï¼Œæ‰€ä»¥ä¸€æ—¦æœ‰è¿›ä½ï¼Œéœ€è¦å°†num[]æ•°ç»„ä¸­æ¯ä¸€ä½éƒ½å¾€åç§»ï¼Œæ—¶é—´å¤æ‚åº¦O(len)
Â·å€’åºå­˜å‚¨Â·ï¼šnum[]æ•°ç»„ä»0åˆ°len-1ä¾æ¬¡å­˜å‚¨æ•´æ•°ä¸ªä½åˆ°æœ€é«˜ä½ã€‚åˆ™æœ€é«˜ä½è¿›ä½æ—¶ï¼Œåªéœ€è¦num[len++]=tï¼Œtä¸ºæœ€é«˜ä½æ•°å­—
è¿›ä½ï¼š
æ–¹æ³•ä¸€ï¼šè®¾ä¸€ä¸ªå˜é‡tï¼Œè®°å½•å½“å‰è¿›ä½
è¾¹è®¡ç®—è¾¹è¿›ä½å’Œé€ä½ç›¸åŠ ä¸è¿›ä½æœ€åå†ç»Ÿä¸€è¿›ä½æ•ˆæœæ˜¯ä¸€æ ·çš„å¦‚ä¸‹ï¼Œå…ˆè¿›è¡Œä¸€éé€ä½ç›¸åŠ ã€‚
ç„¶åï¼Œä»0å¼€å§‹éå†ä¸€éans.num[]ï¼Œå°†æœ¬ä½å¤§äº9çš„éƒ¨åˆ†è¿›ä½ç»™æ›´é«˜ä½ã€‚
æœ€ååˆ¤æ–­æ˜¯å¦æœ€é«˜ä½æœ‰è¿›ä½ï¼Œæœ‰åˆ™ans.len++
æ¨¡æ¿é¢˜
#include&amp;lt;iostream&amp;gt;
#include&amp;lt;cstring&amp;gt;
#include&amp;lt;algorithm&amp;gt;
#include&amp;lt;cstdio&amp;gt;
using namespace std;
const int N=510;
char s[N];
struct bignum
{
	int m[N],len;
	bignum()
	{
		memset(m,0,sizeof m);
		len=0;
	}
};

bignum add(bignum a,bignum b)
{
	bignum c;
	c.len=max(a.len , b.len);
	for(int i=0;i&amp;lt;c.len;i++) c.m[i]=a.m[i]+b.m[i];
	for(int i=0;i&amp;lt;c.len;i++)
		if(c.m[i] &amp;gt; 9)
		{
			c.m[i+1]+=1;
			c.m[i]-=10;
		}
	if(c.m[c.len]) c.len++;
	return c;
}

int main()
{
	scanf(&amp;quot;%s&amp;quot;,s);
	bignum a,b;
	int len=strlen(s);
	a.len=len;
	for(int i=0;i&amp;lt;len;i++)
		a.m[len-i-1]=s[i]-&#39;0&#39;;
	
	scanf(&amp;quot;%s&amp;quot;,s);
	len=strlen(s);
	b.len=len;
	for(int i=0;i&amp;lt;len;i++)
		b.m[len-i-1]=s[i]-&#39;0&#39;;
	bignum c=add(a,b);
	for(int i=c.len-1;i&amp;gt;=0;i--)
		printf(&amp;quot;%d&amp;quot;,c.m[i]);
	puts(&amp;quot;&amp;quot;);
	return 0;
}

é«˜ç²¾åº¦å‡æ³•

åˆ¤æ–­æ­£è´Ÿ
åŸºæœ¬å’ŒåŠ æ³•ä¸€æ¨¡ä¸€æ ·ï¼Œåªä¸è¿‡ä»è¿›ä½å˜æˆé€€ä½
é€€ä½åæ›´æ–°ç»“æœé•¿åº¦
æ¨¡æ¿é¢˜

#include&amp;lt;iostream&amp;gt;
#include&amp;lt;cstring&amp;gt;
#include&amp;lt;algorithm&amp;gt;
#include&amp;lt;cstdio&amp;gt;
using namespace std;
const int N=10100;
char s[N];
struct bignum
{
	int m[N],len;
	bignum()
	{
		memset(m,0,sizeof m);
		len=0;
	}
};

int judge(bignum a,bignum b)
{
	if(a.len &amp;gt; b.len) return 1;
	if(a.len &amp;lt; b.len) return -1;
	for(int i=a.len-1;i&amp;gt;=0;i--)
	{
		if(a.m[i] &amp;gt; b.m[i]) return 1;
		if(a.m[i] &amp;lt; b.m[i]) return -1;
	}
	return 0;
}

bignum Minus(bignum a,bignum b)
{
	if(judge(a,b) == -1)
	{
		printf(&amp;quot;-&amp;quot;);
		return Minus(b,a);
	}

	bignum c;
	c.len=a.len;
	for(int i=0;i&amp;lt;c.len;i++) c.m[i]=a.m[i]-b.m[i];
	for(int i=0;i&amp;lt;c.len;i++)
		if(c.m[i] &amp;lt; 0)
		{
			c.m[i+1]-=1;
			c.m[i]+=10;
		}
	while(c.len &amp;gt; 1 &amp;amp;&amp;amp; !c.m[c.len-1]) c.len--;
	return c;
}

int main()
{
	scanf(&amp;quot;%s&amp;quot;,s);
	bignum a,b;
	int len=strlen(s);
	a.len=len;
	for(int i=0;i&amp;lt;len;i++)
		a.m[len-i-1]=s[i]-&#39;0&#39;;
	
	scanf(&amp;quot;%s&amp;quot;,s);
	len=strlen(s);
	b.len=len;
	for(int i=0;i&amp;lt;len;i++)
		b.m[len-i-1]=s[i]-&#39;0&#39;;
	bignum c=Minus(a,b);
	for(int i=c.len-1;i&amp;gt;=0;i--)
		printf(&amp;quot;%d&amp;quot;,c.m[i]);
	puts(&amp;quot;&amp;quot;);
	return 0;
}

é«˜ç²¾åº¦ä¹˜æ³•
1.é«˜ç²¾*ä½ç²¾
å°†åŠ æ³•è¿ç®—æ”¹ä¸ºä¹˜æ³•è¿ç®—å³å¯ã€‚
æ³¨æ„ï¼š

è¿›ä½çš„è¿ç®—
æœ€é«˜ä½è¿›ä½çš„å¤„ç†ï¼Œå¯èƒ½ä¸æ­¢è¿›ä¸€ä½
æ¨¡æ¿é¢˜

#include&amp;lt;iostream&amp;gt;
#include&amp;lt;cstring&amp;gt;
#include&amp;lt;algorithm&amp;gt;
#include&amp;lt;cstdio&amp;gt;
using namespace std;
const int N=100010;
char s[N];
struct bignum
{
	int m[N],len;
	bignum()
	{
		memset(m,0,sizeof m);
		len=0;
	}
};

bignum mul(bignum a,int b)
{
	bignum c;
	c.len=a.len;
	for(int i=0;i&amp;lt;c.len;i++) c.m[i]=a.m[i]*b;
	for(int i=0;i&amp;lt;c.len;i++)
	{
		c.m[i+1]+=c.m[i]/10;
		c.m[i]%=10;
		if(i == c.len-1 &amp;amp;&amp;amp; c.m[i+1]) c.len++;
	}

	return c;
}

int main()
{
	scanf(&amp;quot;%s&amp;quot;,s);
	bignum a;
	int len=strlen(s);
	a.len=len;
	for(int i=0;i&amp;lt;len;i++)
		a.m[len-i-1]=s[i]-&#39;0&#39;;
	
	int b;
	scanf(&amp;quot;%d&amp;quot;,&amp;amp;b);

	bignum c=mul(a,b);
	for(int i=c.len-1;i&amp;gt;=0;i--)
		printf(&amp;quot;%d&amp;quot;,c.m[i]);
	puts(&amp;quot;&amp;quot;);
	return 0;
}

2.é«˜ç²¾*é«˜ç²¾
ä¹˜æ³•ç«–å¼ä¸­ï¼Œa.num[i]å’Œb.num[j]ç›¸ä¹˜çš„ç»“æœï¼Œæ”¾åœ¨äº†ans.num[i+j]çš„ä½ç½®ã€‚
a,béƒ½ä¸ºæ­£æ•´æ•°æ—¶ï¼Œé•¿åº¦ä¸ºa.lenå’Œb.lençš„æ•°å­—ç›¸ä¹˜å¾—åˆ°ansï¼Œåˆ™

æ¨¡æ‹Ÿä¸Šä¾‹ç«–å¼è¿ç®—è¿‡ç¨‹å³å¯
{æ¨¡æ¿é¢˜](https://www.luogu.com.cn/problem/P1303}
#include&amp;lt;iostream&amp;gt;
#include&amp;lt;cstring&amp;gt;
#include&amp;lt;algorithm&amp;gt;
#include&amp;lt;cstdio&amp;gt;
using namespace std;
const int N=4010;
char s[N];
struct bignum
{
	int m[N],len;
	bignum()
	{
		memset(m,0,sizeof m);
		len=0;
	}
};

bignum mul(bignum a,bignum b)
{
	bignum c;
	c.len=a.len+b.len;
	for(int i=0;i&amp;lt;a.len;i++)
		for(int j=0;j&amp;lt;b.len;j++)
			c.m[i+j]+=a.m[i]*b.m[j];
	for(int i=0;i&amp;lt;c.len;i++)
	{
		c.m[i+1]+=c.m[i]/10;
		c.m[i]%=10;
	}
	while(c.len &amp;gt; 1 &amp;amp;&amp;amp; !c.m[c.len-1]) c.len--;
	return c;
}

int main()
{
	scanf(&amp;quot;%s&amp;quot;,s);
	bignum a,b;
	int len=strlen(s);
	a.len=len;
	for(int i=0;i&amp;lt;len;i++)
		a.m[len-i-1]=s[i]-&#39;0&#39;;
	
	scanf(&amp;quot;%s&amp;quot;,s);
	b.len=len=strlen(s);
	for(int i=0;i&amp;lt;len;i++)
		b.m[len-i-1]=s[i]-&#39;0&#39;;
	bignum c=mul(a,b);
	for(int i=c.len-1;i&amp;gt;=0;i--)
		printf(&amp;quot;%d&amp;quot;,c.m[i]);
	puts(&amp;quot;&amp;quot;);
	return 0;
}

é«˜ç²¾åº¦é™¤æ³•
1.é«˜ç²¾/ä½ç²¾
é™¤æ³•æ˜¯ä»é«˜ä½åˆ°ä½ä½è¿›è¡Œè¿ç®—çš„ã€‚ä½¿ç”¨ä¸€ä¸ªä¸´æ—¶å˜é‡æ¥è®°å½•ä½™æ•°ï¼Œæ³¨æ„ç»†èŠ‚
æ¨¡æ¿é¢˜
#include&amp;lt;iostream&amp;gt;
#include&amp;lt;cstring&amp;gt;
#include&amp;lt;algorithm&amp;gt;
#include&amp;lt;cstdio&amp;gt;
using namespace std;
const int N=100010;
char s[N];
struct bignum
{
	int m[N],len;
	bignum()
	{
		memset(m,0,sizeof m);
		len=0;
	}
};
int t;

bignum Div(bignum a,int b)
{
	bignum c;
	c.len=a.len;
	t=0;
	for(int i=c.len-1;i&amp;gt;=0;i--)
	{
		t=t*10+a.m[i];
		c.m[i]=t/b;
		t%=b;
	}
	while(c.len &amp;gt; 1 &amp;amp;&amp;amp; !c.m[c.len-1]) c.len--;
	return c;
}

int main()
{
	scanf(&amp;quot;%s&amp;quot;,s);
	bignum a;
	int len=strlen(s);
	a.len=len;
	for(int i=0;i&amp;lt;len;i++)
		a.m[len-i-1]=s[i]-&#39;0&#39;;
	
	int b;
	scanf(&amp;quot;%d&amp;quot;,&amp;amp;b);
	bignum c=Div(a,b);
	for(int i=c.len-1;i&amp;gt;=0;i--)
		printf(&amp;quot;%d&amp;quot;,c.m[i]);
	puts(&amp;quot;&amp;quot;);
	printf(&amp;quot;%d\n&amp;quot;,t);

	return 0;
}

æ•°æ¥¼æ¢¯
æ–æ³¢é‚£å¥‘é€’æ¨
code

                                        </div>
                                        
                                            <a class="btn btn-text" href="https://caifxh.github.io/post/gao-jing-du/">Read More ~</a>
                            </div>
                </div>
            </article>
            
            <article class="post i-card">
                <h2 class="post-title">
                    <a href="https://caifxh.github.io/post/bei-zeng-st-biao-rmq/">
                        å€å¢ STè¡¨ RMQ
                    </a>
                </h2>
                <div class="post-info">
                    <time class="post-time">2020-03-28</time>
                    
                        <a href="https://caifxh.github.io/tag/TZ7cITYtt/" class="post-tag i-tag
                            i-tag-success">
            #å…¶ä»–ç®—æ³•
        </a>
                        
                </div>
                <div class="post-article">
                    
                            <div class="post-content">
                                
                                        <div class="post-content-content">
                                            å€å¢





STè¡¨


STè¡¨åˆ›å»º



STè¡¨æŸ¥è¯¢


#include&amp;lt;iostream&amp;gt;
#include&amp;lt;algorithm&amp;gt;
#include&amp;lt;cmath&amp;gt;//ä½¿ç”¨logå‡½æ•°
/*log():ä»¥eä¸ºåº•çš„å¯¹æ•°ï¼Œexp(5)=e^5,log(exp(5))=5
  log10():ä»¥10ä¸ºåº•çš„å¯¹æ•°
  log2():ä»¥2ä¸ºåº•çš„å¯¹æ•° 
  ä»»ä½•ä¸€ä¸ªå…¶å®ƒçš„å¯¹æ•°logm(n)=log(n)/log(m)*/
using namespace std;
const int maxn=105;
int n,a[maxn],F[maxn][maxn];//F(i,j)è¡¨ç¤ºåŒºé—´[iï¼Œi+2^j-1]çš„æœ€å€¼ï¼ŒåŒºé—´é•¿åº¦ä¸º2^j

void ST_create()
{
	for(int i=1;i&amp;lt;=n;i++)//åˆå§‹åŒ– 
		F[i][0]=a[i];
	int k=log2(n);//log(n)/log(2);
	for(int j=1;j&amp;lt;=k;j++)
		for(int i=1;i&amp;lt;=n-(1&amp;lt;&amp;lt;j)+1;i++)//n-2^j+1
			F[i][j]=max(F[i][j-1],F[i+(1&amp;lt;&amp;lt;(j-1))][j-1]);
}

int ST_query(int l,int r)//æ±‚åŒºé—´[l..r]çš„æœ€å€¼ 
{
	int k=log2(r-l+1);
	return max(F[l][k],F[r-(1&amp;lt;&amp;lt;k)+1][k]);//å–ä¸¤ä¸ªåŒºé—´æœ€å€¼ 
}

int ST_print()
{
	int k=log2(n);
	for(int j=0;j&amp;lt;=k;j++)
	{	
		for(int i=1;i&amp;lt;=n-(1&amp;lt;&amp;lt;j)+1;i++)//n-2^j+1,æ‰“å°ç¬¬ä¸€åˆ— 
			cout&amp;lt;&amp;lt;F[i][j]&amp;lt;&amp;lt;&amp;quot; &amp;quot;;
		cout&amp;lt;&amp;lt;endl;
	}
}

int ST_print2()//æŒ‰åˆ—æ‰“å° 
{
	int k=log2(n);
	for(int i=1;i&amp;lt;=n;i++)
	{
		for(int j=0;j&amp;lt;=k;j++)
			cout&amp;lt;&amp;lt;F[i][j]&amp;lt;&amp;lt;&#39; &#39;;
		cout&amp;lt;&amp;lt;endl;
	}
}

int main()
{
	int l,r;
	int i,v;
	cin&amp;gt;&amp;gt;n;
	for(i=1;i&amp;lt;=n;i++)
		cin&amp;gt;&amp;gt;a[i];//5 3 7 2 12 1 6 4 8 15
	ST_create();//åˆ›å»ºSTè¡¨
	ST_print();
	cout&amp;lt;&amp;lt;&amp;quot;è¾“å…¥æŸ¥è¯¢æœ€å€¼çš„åŒºé—´l r:&amp;quot;&amp;lt;&amp;lt;endl;
	cin&amp;gt;&amp;gt;l&amp;gt;&amp;gt;r;
	cout&amp;lt;&amp;lt;ST_query(l,r)&amp;lt;&amp;lt;endl;//æ±‚åŒºé—´[l..r]çš„æœ€å€¼
	return 0;
}

ä¾‹é¢˜
poj3264

#include&amp;lt;cstdio&amp;gt;
#include&amp;lt;algorithm&amp;gt;//min,max
#include&amp;lt;cmath&amp;gt;//log
using namespace std;
const int maxn=50010;
int h[maxn];
int Fmax[maxn][20];//F(i,j)è¡¨ç¤ºåŒºé—´[iï¼Œi+2^j-1]çš„æœ€å€¼ï¼ŒåŒºé—´é•¿åº¦ä¸º2^j
int Fmin[maxn][20];
int N,Q;

void ST_create()
{
	for(int i=1;i&amp;lt;=N;i++)//åˆå§‹åŒ– 
		Fmax[i][0]=Fmin[i][0]=h[i];
	int k=log2(N);//log(N)/log(2.0);
	for(int j=1;j&amp;lt;=k;j++)
		for(int i=1;i&amp;lt;=N-(1&amp;lt;&amp;lt;j)+1;i++)//N-2^j+1
		{
			Fmax[i][j]=max(Fmax[i][j-1],Fmax[i+(1&amp;lt;&amp;lt;(j-1))][j-1]);
			Fmin[i][j]=min(Fmin[i][j-1],Fmin[i+(1&amp;lt;&amp;lt;(j-1))][j-1]);
		}			
}

int RMQ(int l,int r)//æ±‚åŒºé—´[l..r]çš„æœ€å€¼å·® 
{
	int k=log2(r-l+1);
	int m1=max(Fmax[l][k],Fmax[r-(1&amp;lt;&amp;lt;k)+1][k]);
	int m2=min(Fmin[l][k],Fmin[r-(1&amp;lt;&amp;lt;k)+1][k]);
	return m1-m2;//å–ä¸¤ä¸ªåŒºé—´æœ€å€¼å·® 
}

int main()
{
	int a,b;
	while(~scanf(&amp;quot;%d%d&amp;quot;,&amp;amp;n,&amp;amp;Q))
	{
		for(int i=1;i&amp;lt;=N;i++)//ä¸‹æ ‡ä»1å¼€å§‹ 
			scanf(&amp;quot;%d&amp;quot;,&amp;amp;h[i]);
		ST_create();
		for(int j=1;j&amp;lt;=Q;j++)
		{
			scanf(&amp;quot;%d%d&amp;quot;,&amp;amp;a,&amp;amp;b);
			printf(&amp;quot;%d\n&amp;quot;,RMQ(a,b));
		}
	}
	return 0;
}

poj3368



#include&amp;lt;iostream&amp;gt;
#include&amp;lt;cstdio&amp;gt;
#include&amp;lt;algorithm&amp;gt;
using namespace std;
const int N=100010;
int lb[N];		
int f[N][20];//F(i,j)è¡¨ç¤ºåŒºé—´[iï¼Œi+2^j-1]çš„æœ€å€¼ï¼ŒåŒºé—´é•¿åº¦ä¸º2^j

int n,Q;
int a[N];

void ST_create()
{	
	for(int j=1;j&amp;lt;=lb[n];j++)
		for(int i=1;i&amp;lt;=n-(1&amp;lt;&amp;lt;j)+1;i++)
			f[i][j]=max(f[i][j-1],f[i+(1&amp;lt;&amp;lt;(j-1))][j-1]);	
}

int RMQ(int l,int r)
{
	if(l &amp;gt; r)
		return 0;
	int k=lb[r-l+1];
	return max(f[l][k],f[r-(1&amp;lt;&amp;lt;k)+1][k]);
}

int main()
{
	lb[0]=-1;
	for(int i=1;i&amp;lt;N;i++)//æ±‚è§£æ‰€æœ‰logå€¼,ä¿å­˜åˆ°æ•°ç»„lb[] 
		lb[i]=lb[i-1]+!(i&amp;amp;(i-1));
	while(~scanf(&amp;quot;%d%&amp;quot;,&amp;amp;n) &amp;amp;&amp;amp; n)
	{
		scanf(&amp;quot;%d&amp;quot;,&amp;amp;Q);
		for(int i=1;i&amp;lt;=n;i++)
		{
			scanf(&amp;quot;%d&amp;quot;,&amp;amp;a[i]);
			if(i == 1)
			{
				f[i][0]=1;
				continue;
			}
			if(a[i] == a[i-1])
				f[i][0]=f[i-1][0]+1;
			else 
				f[i][0]=1;
		}
		ST_create();
		for(int j=1;j&amp;lt;=Q;j++)
		{
			int l,r;
			scanf(&amp;quot;%d%d&amp;quot;,&amp;amp;l,&amp;amp;r);
			int t=l;
			while(t&amp;lt;=r &amp;amp;&amp;amp; a[t] == a[t-1])
				t++;
			printf(&amp;quot;%d\n&amp;quot;,max(t-l,RMQ(t,r)));
		}
	}
	return 0;
}

hdu3468

#include&amp;lt;cstdio&amp;gt;
#include&amp;lt;algorithm&amp;gt;
using namespace std;
const int N=200010;
int a[N];
int n,k;
int F[N][20],lb[N];

void Initlog()
{
	lb[0]=-1;
    for(int i=1;i&amp;lt;=N;i++)
        lb[i]=lb[i-1]+(i&amp;amp;(i-1)?0:1);
}

void ST()
{
    for(int i=1;i&amp;lt;=n;i++)
		F[i][0]=a[i];
    for(int j=1;j&amp;lt;=lb[n];j++)
        for(int i=1;i&amp;lt;=n-(1&amp;lt;&amp;lt;j)+1;i++)
            F[i][j]=max(F[i][j-1],F[i+(1&amp;lt;&amp;lt;(j-1))][j-1]);
}

int query(int l,int r)
{
    int k=lb[r-l+1];
    return max(F[l][k],F[r-(1&amp;lt;&amp;lt;k)+1][k]);
}

bool check(int mid)
{
    int t=n/mid,s=0;
    for(int i=0;i&amp;lt;mid;i++)
		s+=query(t*i+1,t*i+t);
    return s&amp;gt;k;
}

int main()
{
    lb[0]=-1;
	for(int i=1;i&amp;lt;N;i++)//æ±‚è§£æ‰€æœ‰logå€¼,ä¿å­˜åˆ°æ•°ç»„lb[] 
		lb[i]=lb[i-1]+!(i&amp;amp;(i-1));
	while(scanf(&amp;quot;%d%d&amp;quot;,&amp;amp;n,&amp;amp;k),n&amp;gt;=0||k&amp;gt;=0)
    {
        int sum=0;
        for(int i=1;i&amp;lt;=n;i++)
        {
            scanf(&amp;quot;%d&amp;quot;,&amp;amp;a[i]);
            sum+=a[i];
        }
        if(sum&amp;lt;=k)
		{
			printf(&amp;quot;-1\n&amp;quot;);
			continue;
		}
		ST();
		int l=1,r=n;
		while(l&amp;lt;r)//äºŒåˆ†æ‰¾åˆ’åˆ†æ•° 
    	{
	        int mid=(l+r)/2;
	        if(check(mid)) r=mid;
	        else l=mid+1;
    	}
		printf(&amp;quot;%d\n&amp;quot;,l);
    }
    return 0;
}

poj2019

#include&amp;lt;cstdio&amp;gt;
#include&amp;lt;algorithm&amp;gt;
const int maxn=260,INF=0x3f3f3f3f;
using namespace std;
int a[maxn][maxn],lb[maxn];
int Fmax[maxn][maxn][8],Fmin[maxn][maxn][8];
int n,m,k;

void ST()
{
	for(int k=1;k&amp;lt;=n;k++)//å¤šä¸€ç»´ 
        for(int i=1;i&amp;lt;=n;i++)
            Fmax[k][i][0]=Fmin[k][i][0]=a[k][i];	
	for(int k=1;k&amp;lt;=n;k++)
		for(int j=1;j&amp;lt;=lb[n];j++)
			for(int i=1;i+(1&amp;lt;&amp;lt;j)-1&amp;lt;=n;i++)
			{
				Fmax[k][i][j]=max(Fmax[k][i][j-1],Fmax[k][i+(1&amp;lt;&amp;lt;(j-1))][j-1]);
				Fmin[k][i][j]=min(Fmin[k][i][j-1],Fmin[k][i+(1&amp;lt;&amp;lt;(j-1))][j-1]);
			}
}

int main()
{
	lb[0]=-1;
	for(int i=1;i&amp;lt;maxn;i++)
		lb[i]=(i&amp;amp;(i-1))?lb[i-1]:lb[i-1]+1;
	while(~scanf(&amp;quot;%d%d%d&amp;quot;,&amp;amp;n,&amp;amp;m,&amp;amp;k))
	{
		for(int i=1;i&amp;lt;=n;i++)
			for(int j=1;j&amp;lt;=n;j++)
				scanf(&amp;quot;%d&amp;quot;,&amp;amp;a[i][j]);	
		ST();
		for(int i=0;i&amp;lt;k;i++)
		{
			int x,y;
			scanf(&amp;quot;%d%d&amp;quot;,&amp;amp;x,&amp;amp;y);
			int k=lb[m];
    		int maxx=-INF;
			int minx=INF;
    		int l=y,r=y+m-1;//ä»åæ ‡ä¸º(x,y)çš„åœ°æ–¹å¼€å§‹ï¼Œå³ä¸‹æ‰©å±•Bé•¿åº¦ 
    		for(int i=x;i&amp;lt;x+m;i++)//æŸ¥è¯¢æ¯ä¸€è¡Œçš„æœ€å€¼ 
		    {
		        maxx=max(maxx,max(Fmax[i][l][k],Fmax[i][r-(1&amp;lt;&amp;lt;k)+1][k]));
		        minx=min(minx,min(Fmin[i][l][k],Fmin[i][r-(1&amp;lt;&amp;lt;k)+1][k]));
		    }
			printf(&amp;quot;%d\n&amp;quot;,maxx-minx);
		}
	}
	return 0;
}


                                        </div>
                                        
                                            <a class="btn btn-text" href="https://caifxh.github.io/post/bei-zeng-st-biao-rmq/">Read More ~</a>
                            </div>
                </div>
            </article>
            
                <!-- ç¿»é¡µ -->
                
                </div>
                <!--  -->
                <div class="main-container-middle"></div>
                <!--  -->
                <div id="sidebar" class="main-container-right">

                    <!-- ä¸ªäººä¿¡æ¯ -->
                    
    <div class="id_card i-card">
        <div class="id_card-avatar" style="background-image: url(https://caifxh.github.io/images/avatar.png?v=1586405129501)">
        </div>
        <h1 class="id_card-title">
            fxh
        </h1>
        <h2 class="id_card-description">
            èœ
        </h2>
        <!--  -->
        <div class="id_card-sns">
            <!-- github -->
            
                    <!-- twitter -->
                    
                            <!-- weibo -->
                            
                                    <!-- facebook -->
                                    

        </div>
    </div>
    

                        <!-- å…¬å‘Šæ  -->
                        

                </div>
            </div>



            <div class="site-footer">
  Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a> | 
  <a class="rss" href="https://caifxh.github.io/atom.xml" target="_blank">RSS</a>
</div>

<script>
  hljs.initHighlightingOnLoad()
</script>

    </div>
    <script>
        $('#sidebar').stickySidebar({
            topSpacing: 80,
            // bottomSpacing: 60
        });
    </script>
</body>

</html>